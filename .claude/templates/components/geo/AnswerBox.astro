---
/**
 * AnswerBox - GEO-optimized component for AI citations
 *
 * Creates a visually distinct "answer block" that AI systems (ChatGPT, Perplexity)
 * are more likely to quote directly. The clear, standalone answer format makes
 * it easy for AI to extract and cite.
 *
 * STANDALONE VERSION - No external dependencies required.
 * Works with or without Tailwind CSS.
 *
 * Usage in MDX:
 * <AnswerBox>
 *   A direct, quotable answer to the article's main question.
 * </AnswerBox>
 */

interface Props {
  class?: string
}

const { class: className = '' } = Astro.props
---

<aside
  class:list={[
    'geo-answer-box',
    'not-prose my-8 rounded-lg border-2 border-blue-500/30 bg-blue-50 p-6',
    'dark:border-blue-400/30 dark:bg-blue-950/30',
    className
  ]}
  role="complementary"
  aria-label="Key answer"
>
  <div class="flex gap-4">
    <div class="flex-shrink-0">
      <svg
        class="geo-icon h-6 w-6 text-blue-600 dark:text-blue-400"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        aria-hidden="true"
      >
        <path d="M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5" />
        <path d="M9 18h6" />
        <path d="M10 22h4" />
      </svg>
    </div>
    <div class="max-w-none">
      <div class="geo-content m-0 text-base font-medium leading-relaxed text-gray-900 dark:text-gray-100">
        <slot />
      </div>
    </div>
  </div>
</aside>

<style>
  /* Fallback styles for projects without Tailwind */
  .geo-answer-box {
    margin: 2rem 0;
    padding: 1.5rem;
    border-radius: 0.5rem;
    border: 2px solid rgba(59, 130, 246, 0.3);
    background-color: #eff6ff;
  }

  .geo-answer-box .flex {
    display: flex;
  }

  .geo-answer-box .gap-4 {
    gap: 1rem;
  }

  .geo-answer-box .flex-shrink-0 {
    flex-shrink: 0;
  }

  .geo-icon {
    width: 1.5rem;
    height: 1.5rem;
    color: #2563eb;
  }

  .geo-content {
    margin: 0;
    font-size: 1rem;
    font-weight: 500;
    line-height: 1.625;
    color: #111827;
  }

  /* Dark mode fallback */
  @media (prefers-color-scheme: dark) {
    .geo-answer-box {
      border-color: rgba(96, 165, 250, 0.3);
      background-color: rgba(30, 58, 138, 0.3);
    }

    .geo-icon {
      color: #60a5fa;
    }

    .geo-content {
      color: #f3f4f6;
    }
  }
</style>
